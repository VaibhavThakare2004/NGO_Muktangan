<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thalassemia CBC Predictor</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Roboto', sans-serif;
        background: linear-gradient(135deg, #74ebd5, #ACB6E5);
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
    }
    .container {
        max-width: 600px;
        width: 100%;
        margin: 20px;
        background: white;
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0px 8px 25px rgba(0,0,0,0.2);
    }
    h2 {
        text-align: center;
        color: #007BFF;
        margin-bottom: 30px;
        font-weight: 700;
    }
    label {
        font-weight: 500;
        margin-top: 15px;
        display: block;
        color: #333;
    }
    input, button {
        width: 100%;
        padding: 12px 14px;
        margin-top: 6px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 16px;
        transition: all 0.3s ease-in-out;
    }
    input:focus {
        border-color: #007BFF;
        outline: none;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
    }
    button {
        margin-top: 25px;
        background: linear-gradient(135deg, #007BFF, #0056b3);
        color: white;
        border: none;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
    }
    button:hover {
        background: linear-gradient(135deg, #0056b3, #003f7f);
    }
    .note {
        font-size: 13px;
        color: #666;
        display: block;
        margin-top: 2px;
    }
    .error {
        color: red;
        font-size: 13px;
        margin-top: 4px;
        display: none;
    }
</style>
</head>
<body>
<div class="container">
    <h2>Thalassemia CBC Input Form</h2>
    <form id="cbcForm" action="/submit" method="post" novalidate>
        <!-- Name -->
        <label for="name">Full Name</label>
        <input type="text" id="name" name="name" placeholder="Enter full name" required>
        <span class="note">Only letters and spaces allowed.</span>
        <span class="error" id="nameError"></span>

        <!-- Phone -->
        <label for="phone">Phone Number</label>
        <input type="text" id="phone" name="phone" placeholder="10-digit number" required>
        <span class="note">10 digits only, numbers only.</span>
        <span class="error" id="phoneError"></span>

        <!-- Email -->
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="example@gmail.com" required>
        <span class="note">Enter valid email address.</span>
        <span class="error" id="emailError"></span>

        <!-- Hb -->
        <label for="hb">Hemoglobin (Hb in g/dL)</label>
        <input type="number" id="hb" step="0.01" name="hb" placeholder="e.g. 11.5" required min="0" max="25">
        <span class="note">Range: 0 – 25 g/dL</span>
        <span class="error" id="hbError"></span>

        <!-- RBC -->
        <label for="rbc">RBC Count (million/µL)</label>
        <input type="number" id="rbc" step="0.01" name="rbc" placeholder="e.g. 5.5" required min="0" max="10">
        <span class="note">Range: 0 – 10 million/µL</span>
        <span class="error" id="rbcError"></span>

        <!-- MCV -->
        <label for="mcv">MCV (fL)</label>
        <input type="number" id="mcv" step="0.01" name="mcv" placeholder="e.g. 70" required min="40" max="120">
        <span class="note">Microcytic &lt; 80 fL</span>
        <span class="error" id="mcvError"></span>

        <!-- MCH -->
        <label for="mch">MCH (pg)</label>
        <input type="number" id="mch" step="0.01" name="mch" placeholder="e.g. 22" required min="10" max="40">
        <span class="note">Hypochromic &lt; 27 pg</span>
        <span class="error" id="mchError"></span>

        <!-- MCHC -->
        <label for="mchc">MCHC (g/dL)</label>
        <input type="number" id="mchc" step="0.01" name="mchc" placeholder="e.g. 32" required min="20" max="40">
        <span class="note">Normal: 32-36 g/dL</span>
        <span class="error" id="mchcError"></span>

        <!-- RDW -->
        <label for="rdw">RDW (%)</label>
        <input type="number" id="rdw" step="0.01" name="rdw" placeholder="e.g. 13" required min="10" max="20">
        <span class="note">Normal: 11-15%</span>
        <span class="error" id="rdwError"></span>

        <button type="submit">Submit</button>
    </form>
</div>
<script>
const form = document.getElementById('cbcForm');

form.addEventListener('submit', function(e) {
    let valid = true;

    // Name validation
    const name = form.name.value.trim();
    const nameError = document.getElementById('nameError');
    if (!/^[A-Za-z\s]{2,50}$/.test(name)) {
        nameError.textContent = "Enter 2-50 letters or spaces only.";
        nameError.style.display = "block";
        valid = false;
    } else {
        nameError.textContent = "";
        nameError.style.display = "none";
    }

    // Phone validation
    const phone = form.phone.value.trim();
    const phoneError = document.getElementById('phoneError');
    if (!/^\d{10}$/.test(phone)) {
        phoneError.textContent = "Enter a valid 10-digit phone number.";
        phoneError.style.display = "block";
        valid = false;
    } else {
        phoneError.textContent = "";
        phoneError.style.display = "none";
    }

    // Email validation
    const email = form.email.value.trim();
    const emailError = document.getElementById('emailError');
    const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,}$/i;
    if (!emailPattern.test(email)) {
        emailError.textContent = "Enter a valid email (e.g., user@example.com).";
        emailError.style.display = "block";
        valid = false;
    } else {
        emailError.textContent = "";
        emailError.style.display = "none";
    }

    // Hb validation
    const hb = parseFloat(form.hb.value);
    const hbError = document.getElementById('hbError');
    if (isNaN(hb) || hb < 0 || hb > 25) {
        hbError.textContent = "Hb must be between 0 and 25 g/dL.";
        hbError.style.display = "block";
        valid = false;
    } else {
        hbError.textContent = "";
        hbError.style.display = "none";
    }

    // RBC validation
    const rbc = parseFloat(form.rbc.value);
    const rbcError = document.getElementById('rbcError');
    if (isNaN(rbc) || rbc < 0 || rbc > 10) {
        rbcError.textContent = "RBC must be between 0 and 10 million/µL.";
        rbcError.style.display = "block";
        valid = false;
    } else {
        rbcError.textContent = "";
        rbcError.style.display = "none";
    }

    // MCV validation
    const mcv = parseFloat(form.mcv.value);
    const mcvError = document.getElementById('mcvError');
    if (isNaN(mcv) || mcv < 40 || mcv > 120) {
        mcvError.textContent = "MCV must be between 40 and 120 fL.";
        mcvError.style.display = "block";
        valid = false;
    } else {
        mcvError.textContent = "";
        mcvError.style.display = "none";
    }

    // MCH validation
    const mch = parseFloat(form.mch.value);
    const mchError = document.getElementById('mchError');
    if (isNaN(mch) || mch < 10 || mch > 40) {
        mchError.textContent = "MCH must be between 10 and 40 pg.";
        mchError.style.display = "block";
        valid = false;
    } else {
        mchError.textContent = "";
        mchError.style.display = "none";
    }

    // MCHC validation
    const mchc = parseFloat(form.mchc.value);
    const mchcError = document.getElementById('mchcError');
    if (isNaN(mchc) || mchc < 20 || mchc > 40) {
        mchcError.textContent = "MCHC must be between 20 and 40 g/dL.";
        mchcError.style.display = "block";
        valid = false;
    } else {
        mchcError.textContent = "";
        mchcError.style.display = "none";
    }

    // RDW validation
    const rdw = parseFloat(form.rdw.value);
    const rdwError = document.getElementById('rdwError');
    if (isNaN(rdw) || rdw < 10 || rdw > 20) {
        rdwError.textContent = "RDW must be between 10 and 20%.";
        rdwError.style.display = "block";
        valid = false;
    } else {
        rdwError.textContent = "";
        rdwError.style.display = "none";
    }

    // Stop form submit if invalid
    if (!valid) e.preventDefault();
});
</script>
</body>
</html>